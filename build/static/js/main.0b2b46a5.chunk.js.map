{"version":3,"sources":["Home/components/NewsList.jsx","Home/components/SiteList.jsx","Appshell/components/HomeContainer.jsx","Appshell/stores/UserStore.js","Appshell/components/LoginModal.jsx","Appshell/components/UserDropdown.jsx","Appshell/components/SideDrawer.jsx","Appshell/components/Header.jsx","News/components/Image.jsx","News/components/NewsDetail.jsx","News/components/NewsItem.jsx","News/components/NewsList.jsx","User/components/FollowedItem.jsx","User/components/ProfileContainer.jsx","About/components/MemberItem.jsx","About/components/AboutContainer.jsx","App.js","serviceWorker.js","index.js"],"names":["TabPane","Tabs","Meta","Card","NewsList","state","news","loading","onTabChange","key","_this","setState","axios","get","concat","then","res","data","slice","catch","err","console","log","renderCard","react_default","a","createElement","skeleton","length","empty","className","map","index","Link","to","pathname","newsId","card","style","margin","width","hoverable","bordered","cover","img","src","alt","description","title","icon","type","time","_this2","this","tabs","defaultActiveKey","onChange","tab","Component","SiteList","mockData","media_list","source","url","es_button","shape","href","Option","Select","Search","Input","HomeContainer","input","select","selectBefore","es_select","defaultValue","onSelectChange","value","val","onInputChange","e","target","onInputSubmit","window","location","message","error","addonBefore","placeholder","onSearch","components_NewsList","divider","components_SiteList","UserStore","user","isAnonymous","channels","readNews","firebase","auth","onAuthStateChanged","uid","channel","recentread","email","password","code","post","signIn","_this3","signInWithEmailAndPassword","_this4","signOut","decorate","observable","fetchUserState","action","signUp","stores_UserStore","RadioButton","Radio","Button","RadioGroup","Group","LoginModal","radioValue","passwordConfirm","onRadioChange","onEmailInputChange","onPasswordInputChange","onConfirmPasswordInputChange","renderSignIn","suffix","color","Password","renderSignUp","es_alert","showIcon","isSubmitDisabled","disabled","modal","visible","props","onOk","submit","onCancel","handleModalClose","okButtonProps","okText","buttonStyle","dashed","UserDropdown","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","modalVisible","handleModalOpen","handleModalSubmit","arguments","undefined","success","menu","Item","Divider","onClick","dropdown","overlay","trigger","placement","avatar","components_LoginModal","showModal","UserDropDown","observer","SubMenu","Menu","categories","name","SideDrawer","showDrawer","onClose","handleClick","renderMenu","defaultSelectedKeys","defaultOpenKeys","mode","item","display","size","border","drawer","Header","current","components_SideDrawer","components_UserDropdown","Image","handleError","imgErr","borderRadius","fontSize","backgroundColor","address","onError","NewsDetail","handleFollow","put","currentNews","following","isFollow","search","params","URLSearchParams","renderBody","body","replace","RegExp","split","readFromCache","id","match","db","that","request","indexedDB","open","onupgradeneeded","event","result","objectStoreNames","contains","createObjectStore","keyPath","onsuccess","req","transaction","objectStore","parseInt","keys","breadcrumb","theme","components_Image","tag","category","summary","NewsItem","tags","hashtags","parseSearch","hideFollow","getType","handleMore","currCount","count","currNews","displayNews","components_NewsItem","toUpperCase","FollowedItem","handleUnfollow","ProfileContainer","ProfileContainer_Meta","moment","fromNow","openCursor","cursor","push","continue","spin","photoURL","displayName","chan","components_FollowedItem","MemberItem","marginRight","position","github","linkedin","AboutContainer","team","member","components_MemberItem","App","components_Header","BrowserRouter","Switch","Route","exact","path","component","Redirect","from","back_top","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","setPersistence","Auth","Persistence","SESSION","link","document","rel","head","appendChild","ReactDOM","render","src_App_0","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0b2b46a5.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport '../styles/NewsList.scss';\nimport { Card, Tabs, Skeleton, Icon, Empty } from 'antd';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\n\nconst TabPane = Tabs.TabPane;\nconst { Meta } = Card;\n\n\nclass NewsList extends Component {\n    state = {\n        news: [],\n        loading: true,\n    };\n\n    componentDidMount() {\n        this.setState({loading: true, news:[]});\n        axios.get(`http://localhost:3000/api/offline/category/business`).then(\n            res => {\n                this.setState({news: res.data.slice(0,3), loading: false})\n            }\n        ).catch(err => {\n            console.log(err);\n            this.setState({news: [], loading: false});\n        });\n    }\n\n    onTabChange = (key) => {\n        this.setState({loading: true, news:[]});\n        axios.get(`http://localhost:3000/api/offline/category/${key}`).then(\n            res => {\n                this.setState({news: res.data.slice(0,3), loading: false})\n            }\n        ).catch(err => {\n            console.log(err);\n            this.setState({news: [], loading: false});\n        });\n    };\n\n    renderCard = () => {\n        if (this.state.loading ) {\n            return <Skeleton/>\n        }\n        if (this.state.news.length === 0) {\n            return <Empty/>\n        }\n\n       return <div className=\"news-card-list\">\n           {this.state.news.map((news,index) =>\n                <Link key={index} to={{pathname: `/news/${news.newsId}`, state: {news: news}}}>\n                    <Card\n                        className=\"news-card\"\n                        style={{margin: 5, width: 290}}\n                        key={index}\n                        hoverable\n                        bordered={false}\n                        cover={news.img ? <img src={news.img} alt={\"N/A\"}/> : <Empty description=\" \"/>}\n                    >\n\n                        <Meta\n                            title={news.title}\n                        />\n                        <div>\n                            <Icon type=\"clock-circle\" />{news.time}\n                        </div>\n                    </Card>\n                </Link>)}\n        </div>;\n    };\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <Tabs defaultActiveKey=\"1\" onChange={this.onTabChange}>\n                        <TabPane tab=\"Business\" key=\"business\">{this.renderCard()}</TabPane>\n                        <TabPane tab=\"Technology\" key=\"technology\">{this.renderCard()}</TabPane>\n                        <TabPane tab=\"Entertainment\" key=\"entertainment\">{this.renderCard()}</TabPane>\n                        <TabPane tab=\"Sports\" key=\"sports\">{this.renderCard()}</TabPane>\n                        <TabPane tab=\"Science\" key=\"science\">{this.renderCard()}</TabPane>\n                        <TabPane tab=\"Health\" key=\"health\">{this.renderCard()}</TabPane>\n                    </Tabs>\n                </div>\n            </div>\n        );\n    }\n}\nexport default NewsList;","import React, { Component } from 'react';\nimport '../styles/SiteList.scss';\nimport {Button, Card, Skeleton} from 'antd';\nimport media_list from '../../mock/media_list.json';\nimport {Link} from \"react-router-dom\";\n\nclass SiteList extends Component {\n    state = {\n        mockData: media_list,\n    };\n\n    render() {\n        return(\n            <div className=\"media-card-list\">\n                {this.state.mockData.length === 0 ?\n                    <Skeleton/>\n                    : this.state.mockData.map(source => <Card\n                        key={source.title}\n                        hoverable\n                        bordered={false}\n                        style={{ width: 240 }}\n                        cover={<Link to={`news/?source=${source.title}`}>\n                            <img alt=\"example\" src={source.url} style={{width: \"100%\"}}/>\n                        </Link>}\n                    >\n                        <div>\n                            <h3>\n                                {source.title}\n                                <Button icon=\"link\" shape=\"circle\" className=\"site-list-menu\" href={source.source}/>\n                            </h3>\n                        </div>\n                        <div>\n                            {source.description}\n                        </div>\n                    </Card>)}\n            </div>\n        );\n    }\n}\nexport default SiteList;","import React, { Component } from 'react';\nimport '../styles/Home.scss';\nimport \"../styles/HomeContainer.scss\"\nimport { Input, Select, Divider, message } from 'antd';\nimport NewsList from '../../Home/components/NewsList.jsx'\nimport SiteList from '../../Home/components/SiteList.jsx'\nimport '../styles/Home.scss';\nimport {Link} from \"react-router-dom\";\n\n\nconst Option = Select.Option;\nconst Search = Input.Search;\n\nclass HomeContainer extends Component {\n\n    state = {\n        input: \"\",\n        select: \"news\",\n    };\n\n    selectBefore = () =>\n        <Select defaultValue={this.state.select} style={{width: 90}} onChange={this.onSelectChange}>\n            <Option value=\"news\">News</Option>\n            <Option value=\"source\">Source</Option>\n        </Select>;\n\n    onSelectChange = (val) => {\n        this.setState({select: val});\n    };\n\n    onInputChange = (e) => {\n        this.setState({input: e.target.value});\n    };\n\n    onInputSubmit = () => {\n        if (!this.state.input) {\n            message.error(\"Input cannot be empty!\");\n            return\n        }\n        window.location.href =`/news/?${this.state.select}=${this.state.input}`;\n    };\n\n    render() {\n        return(\n            <div className=\"Home\">\n                <article className=\"home-container\">\n                    <section>\n                        <div className=\"home-container-title\">\n                            <h1 className=\"main-title\">\n                                GOATNews - Progressive Web Application\n                            </h1>\n                            <h1 className=\"sub-title\">\n                                Read news anywhere\n                            </h1>\n                        </div>\n                        <div className=\"search-bar\">\n                            <Search addonBefore={this.selectBefore()}\n                                    placeholder=\"input search text\"\n                                    onChange={this.onInputChange}\n                                    onSearch={this.onInputSubmit}\n                            />\n                        </div>\n                    </section>\n                    <section className=\"home-sections\">\n                        <Link to=\"/news/\"><h1> Trend News</h1></Link>\n                        <NewsList/>\n                    </section>\n                    <Divider/>\n                    <section className=\"home-sections\">\n                        <h1> Hot Sources</h1>\n                        <SiteList/>\n                    </section>\n                    <Divider/>\n                </article>\n            </div>\n        );\n    }\n}\nexport default HomeContainer;","import {observable, action, decorate} from 'mobx';\nimport firebase from 'firebase';\nimport axios from \"axios\";\n\nclass UserStore {\n    user = {isAnonymous: true, channels:{}, readNews:{}};\n    state = {loading: true};\n\n    fetchUserState() {\n        this.state.loading = true;\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                this.user = user;\n                this.user.channels = {};\n                this.user.readNews = {};\n                axios.get(`http://localhost:3000/api/user/${this.user.uid}`).then(\n                    res => {\n                        this.user.channels = res.data.channel;\n                        this.user.readNews = res.data.recentread;\n                        this.state.loading = false;\n                    }\n                )\n            } else {\n                console.log(\"Not login\");\n                // No user is signed in.\n                this.state.loading = false;\n            }\n\n        });\n        this.state.loading = false;\n    }\n\n\n    signUp(email, password) {\n        this.error = {\n            code: 0,\n            message: \"\",\n        };\n\n        return axios.post(\"http://localhost:3000/api/user/register\", {email:email, password: password}).then(res => {\n            this.user = res.data;\n        }).then(res => {\n            return this.signIn(email, password);\n        }).catch(err => console.log(err));\n\n        /*\n        return firebase.auth().createUserWithEmailAndPassword(email, password).then(res => {\n            this.user = res.data;\n            this.user.isAnonymous = false;\n        });\n        */\n\n    }\n\n\n    signIn(email, password) {\n        this.error = {\n            code: 0,\n            message: \"\",\n        };\n        return firebase.auth().signInWithEmailAndPassword(email, password).then(res => {\n            this.user = res.user;\n            this.user.channels = {};\n            this.user.readNews = {};\n        }).then(res => {\n            axios.get(`http://localhost:3000/api/user/${this.user.uid}`).then(\n                res => {\n                    this.user.channels = res.data.channel;\n                    this.user.readNews = res.data.recentread;\n                }\n            )\n        });\n    }\n\n    signOut() {\n        this.error = {\n            code: 0,\n            message: \"\",\n        };\n        return firebase.auth().signOut().then(res => {\n            this.user = {isAnonymous: true};\n        }).catch(error => {\n            this.state = error;\n        });\n    }\n}\ndecorate(UserStore, {\n    user: observable,\n    state: observable,\n    fetchUserState: action,\n    signUp: action,\n    signIn: action,\n    signOut: action,\n});\n\nexport default new UserStore()","import React, { Component } from 'react';\nimport { Modal, Input, Icon, Radio, Alert, Divider } from 'antd';\nimport \"../styles/LoginModal.scss\";\n\nconst RadioButton = Radio.Button;\nconst RadioGroup = Radio.Group;\n\nclass LoginModal extends Component {\n    state = {\n        radioValue: \"in\",\n        email: \"\",\n        password: \"\",\n        passwordConfirm: \"\",\n    };\n\n    onRadioChange = (e) => {\n        this.setState({\n            radioValue: e.target.value,\n        })\n    };\n\n    onEmailInputChange = (e) => {\n        this.setState({email: e.target.value});\n    };\n    onPasswordInputChange = (e) => {\n        this.setState({password: e.target.value});\n    };\n    onConfirmPasswordInputChange = (e) => {\n        this.setState({passwordConfirm: e.target.value});\n    };\n\n    renderSignIn = () => {\n        return(\n            <div className=\"user-input\">\n                <p>Email Address</p>\n                <Input\n                    placeholder=\"Email Address\"\n                    suffix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }}/>}\n                    onChange={this.onEmailInputChange}\n                    value={this.state.email}\n                />\n                <p>Password</p>\n                <Input.Password\n                    placeholder=\"Password\"\n                    onChange={this.onPasswordInputChange}\n                    value={this.state.password}\n                />\n            </div>\n        )\n    };\n\n    renderSignUp = () => {\n        return(\n            <div className=\"user-input\">\n              <p>Email Address</p>\n              <Input\n                  placeholder=\"Email Address\"\n                  suffix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }}/>}\n                  onChange={this.onEmailInputChange}\n                  value={this.state.email}\n              />\n              <p>Password</p>\n              <Input.Password\n                  placeholder=\"Password\"\n                  onChange={this.onPasswordInputChange}\n                  value={this.state.password}\n              />\n              <p>Confirm Password</p>\n              <Input.Password\n                  placeholder=\"Confirm Password\"\n                  onChange={this.onConfirmPasswordInputChange}\n                  value={this.state.passwordConfirm}\n              />\n              {this.state.password !== this.state.passwordConfirm &&\n                  <Alert\n                      description=\"Two passwords must be same.\"\n                      type=\"error\"\n                      showIcon\n                  />\n              }\n            </div>\n        )\n    };\n\n    isSubmitDisabled = (radioValue) => {\n        let disabled = !(this.state.email && this.state.password);\n        if (radioValue !== 'in') {\n            disabled = disabled || this.state.password !== this.state.passwordConfirm;\n        }\n\n        return disabled;\n    };\n\n    render() {\n        const {radioValue} = this.state;\n        return(\n            <div>\n                <Modal\n                    title=\"Sign in/up\"\n                    visible={this.props.visible}\n                    onOk={this.props.submit(this.state.email, this.state.password, radioValue === 'in')}\n                    onCancel={this.props.handleModalClose}\n                    okButtonProps={{disabled: this.isSubmitDisabled(radioValue)}}\n                    okText={radioValue === 'in' ? \"Sign In\" : \"Sign Up\"}\n                >\n                    <div>\n                        <RadioGroup onChange={this.onRadioChange} defaultValue={radioValue} buttonStyle=\"solid\">\n                            <RadioButton value=\"in\">Sign In</RadioButton>\n                            <RadioButton value=\"up\">Sign Up</RadioButton>\n                        </RadioGroup>\n                      <Divider dashed/>\n                        {radioValue === 'in' ? this.renderSignIn() : this.renderSignUp()}\n                    </div>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default LoginModal;","import React, { Component } from 'react';\nimport { Avatar, Menu, Dropdown, message, Icon } from 'antd';\nimport \"../styles/Header.scss\";\nimport {decorate} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport UserStore from \"../stores/UserStore\";\nimport LoginModal from \"./LoginModal\";\n\nclass UserDropdown extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            modalVisible: false,\n        };\n    }\n\n    handleModalClose = () => this.setState({ modalVisible: false });\n    handleModalOpen = () => this.setState({ modalVisible: true });\n    handleModalSubmit = (email, password, signIn=true) => {\n        return () => {\n            if (signIn) {\n                UserStore.signIn(email, password).then(res => {\n                    message.success(\"Sign in successfully\");\n                    this.setState({ modalVisible: false });\n                }).catch(err => {\n                    message.error(err.message);\n                    this.setState({ modalVisible: true });\n                });\n            } else {\n                UserStore.signUp(email, password).then(res => {\n                    message.success(\"Sign up successfully\");\n                    this.setState({ modalVisible: false });\n                }).catch(err => {\n                    message.error(err.message);\n                    this.setState({ modalVisible: true });\n                });\n            }\n\n        }\n    };\n\n    signOut = () => {\n        return UserStore.signOut().then(res => {\n            message.success(\"Sign out successfully\");\n        })\n    };\n\n    componentDidMount() {\n        UserStore.fetchUserState();\n    }\n\n    menu = () => {\n        return !UserStore.user.email ?\n            <Menu>\n                <Menu.Item>\n                    <div onClick={this.handleModalOpen}><Icon type=\"import\" /> Sign in/up</div>\n                </Menu.Item>\n            </Menu>\n            :\n            <Menu>\n                <Menu.Item>\n                    <a href=\"/profile/\"><Icon type=\"user\" /> Profile</a>\n                </Menu.Item>\n                <Menu.Divider/>\n                <Menu.Item>\n                    <div onClick={this.signOut}><Icon type=\"export\" /> Sign out</div>\n                </Menu.Item>\n            </Menu>\n\n    };\n\n    render() {\n        return (\n            <div>\n                <Dropdown overlay={this.menu} trigger={['click']} placement=\"bottomCenter\">\n                    <Avatar icon=\"user\" className=\"header-container-avatar\"/>\n                </Dropdown>\n                <LoginModal\n                    visible={this.state.modalVisible}\n                    showModal={this.handleModalOpen}\n                    submit={this.handleModalSubmit}\n                    handleModalClose={this.handleModalClose}\n                />\n            </div>\n        );\n    }\n}\ndecorate(UserDropdown, {\n    UserDropDown: observer,\n});\nexport default UserDropdown;","import React, { Component } from 'react';\nimport {Drawer, Button, Menu, Icon} from 'antd';\nimport \"../styles/SideDrawer.scss\";\n\nconst SubMenu = Menu.SubMenu;\nconst categories = [{key:\"business\", name:\"Business\", type:\"dollar\"},\n    {key:\"technology\", name:\"Technology\", type:\"laptop\"},\n    {key:\"entertainment\", name:\"Entertainment\", type:\"coffee\"},\n    {key:\"sports\", name:\"Sports\", type:\"trophy\"},\n    {key:\"science\", name:\"Science\", type:\"experiment\"},\n    {key:\"health\", name:\"Health\", type:\"heart\"},];\n\nclass SideDrawer extends Component {\n    state = { visible: false, placement: 'left' };\n    showDrawer = () => {\n        this.setState({\n            visible: true,\n        });\n    };\n\n    onClose = () => {\n        this.setState({\n            visible: false,\n        });\n    };\n\n    handleClick = (e) => {\n    };\n\n    renderMenu = () => <Menu\n        onClick={this.handleClick}\n        style={{ width: 256 }}\n        defaultSelectedKeys={['1']}\n        defaultOpenKeys={['sub1', 'sub2', 'sub3']}\n        mode=\"inline\"\n    >\n        <SubMenu key=\"sub1\" title={<span><Icon type=\"user\" /><span>My Subscriptions</span></span>}>\n            <Menu.Item key=\"1\"><Icon type=\"eye\" />My News</Menu.Item>\n            <Menu.Item key=\"2\"><Icon type=\"pushpin\" />My Sites</Menu.Item>\n        </SubMenu>\n        <SubMenu key=\"sub2\" title={<span><Icon type=\"solution\" /><span>Categories</span></span>}>\n            {categories.map(item =>\n                <Menu.Item key={item.key}>\n                    <Icon type={item.type} />\n                    <a style={{display: \"initial\"}} href={`/news/?category=${item.key}`}>{item.name}</a>\n                </Menu.Item>)}\n        </SubMenu>\n    </Menu>;\n\n    render() {\n        return(\n            <div>\n                <Button shape=\"circle\" icon=\"bars\" size=\"large\" onClick={this.showDrawer} style={{border: \"none\"}}/>\n                <Drawer\n                    placement=\"left\"\n                    title=\"GOATNews\"\n                    onClose={this.onClose}\n                    visible={this.state.visible}\n                >\n                    {this.renderMenu()}\n                </Drawer>\n            </div>\n        );\n    }\n}\n\nexport default SideDrawer;","import React, { Component } from 'react';\nimport \"../styles/Header.scss\";\nimport UserDropDown from \"./UserDropdown.jsx\";\nimport SideDrawer from \"./SideDrawer.jsx\";\n\nclass Header extends Component {\n\n    state = {\n        current: 'mail',\n    };\n\n    handleClick = (e) => {\n        console.log('click ', e);\n        this.setState({\n            current: e.key,\n        });\n    };\n\n    render() {\n        return (\n            <nav className=\"header-container\">\n                <div className=\"header-container-title\">\n                    <SideDrawer/>\n                    <a href=\"/\">\n                        GOATNews\n                    </a>\n                </div>\n                <div className=\"header-container-extra\">\n                    <span className=\"header-container-btn\"><a href=\"/news/\"><div>News</div></a></span>\n                    <span className=\"header-container-btn\"><a href=\"/about/\"><div>About</div></a></span>\n                    <span className=\"header-container-btn\">\n                        <div>\n                            <UserDropDown/>\n                        </div>\n                    </span>\n                </div>\n            </nav>\n        );\n    }\n}\nexport default Header;","import React, { Component } from 'react';\nimport {Avatar} from 'antd';\nimport '../styles/NewsItem.scss'\n\n\nclass Image extends Component {\n  constructor(){\n    super();\n    this.state = {\n      imgErr: false\n    }\n  }\n\n  handleError = () => {\n    this.setState({\n      imgErr: true\n    })\n  };\n\n  render() {\n    let item;\n    if (this.state.imgErr) {\n      if (this.props.type === \"list\") {\n        item =\n          <Avatar\n            shape=\"square\"\n            size={100}\n            style={{ borderRadius: '10px', fontSize: '40px', color: '#13c2c2', backgroundColor: '#e6fffb'}}>\n            {this.props.source[0]}\n          </Avatar>\n      }\n      else {\n        item = null;\n      }\n    }\n    else {\n      item = <img alt=\"logo\" src={this.props.address} onError={this.handleError}/>;\n    }\n    return (\n      item\n    )\n  }\n}\n\nexport default Image","import React, { Component } from 'react';\nimport '../styles/NewsDetail.scss';\nimport { Button, Empty, Tag, Breadcrumb, Icon, Divider, Avatar, message} from 'antd';\nimport { Link } from 'react-router-dom'\nimport {decorate} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport UserStore from \"../../Appshell/stores/UserStore\";\nimport axios from 'axios';\nimport Image from \"./Image\";\n\n\nclass NewsDetail extends Component {\n  constructor(){\n    super();\n    this.state = {\n      currentNews: {},\n      following: false,\n      visible: false,\n      readFromCache: false,\n    }\n  }\n\n  componentDidMount() {\n    // need to get news by id\n    let id = this.props.match.params.id;\n    const params = {};\n    if (!UserStore.user.isAnonymous && UserStore.user.uid) {\n      params.uid = UserStore.user.uid;\n    }\n    const that = this;\n\n    /* use indexDB here!!*/\n    const request = window.indexedDB.open(\"news\", 1);\n    var db;\n    request.onupgradeneeded = function (event) {\n      db = event.target.result;\n      if (!db.objectStoreNames.contains('recent')) {\n        db.createObjectStore('recent', { keyPath: 'id' });\n      }\n    };\n\n    request.onsuccess = function(event) {\n      db = event.target.result;\n      const req = db.transaction(['recent']).objectStore('recent').get(parseInt(id));\n      req.onsuccess = function(event) {\n        if (req.result) {\n          that.setState({currentNews: req.result});\n        } else {\n          axios.get(`http://localhost:3000/api/offline/${id}`, {params: params}).then(\n              res => {\n                that.setState({\n                  currentNews: res.data,\n                });\n                const news = res.data;\n                news.id = news.newsId;\n                db.transaction(['recent'], 'readwrite').objectStore('recent').put(news);\n              }\n          );\n        }\n      };\n    }\n\n\n  }\n\n  handleFollow = () => {\n    axios.put(`http://localhost:3000/api/user/${UserStore.user.uid}`,\n        {name: this.state.currentNews.source, type:\"source\"}).then(res => {\n      this.setState({following: !this.state.following});\n    }).catch(err =>\n        message.error(\"Network error\")\n    );\n  };\n\n  isFollow = () => {\n    if (!UserStore.user.channels) return false;\n    let key = 'headline';\n    if (this.props.location) {\n      const search = this.props.location.search;\n      const params = new URLSearchParams(search);\n      key = params.get('news') || params.get('category') || params.get('source') || 'headline';\n    }\n\n    return (key in UserStore.user.channels) || this.state.following;\n  };\n\n  renderBody = (body) => {\n    body = body.replace(new RegExp(/\\r\\n/g,'g'), '<br />');\n    return body.split('\\n').map((item, index) =>\n        <span key={index}>\n          {item}\n          <br/>\n        </span>\n    )\n  };\n\n  render() {\n    const {currentNews} = this.state;\n    if (Object.keys(currentNews).length === 0) {\n      return <div className=\"detail-container\">\n          <Empty/>\n      </div>\n    }\n\n    return (\n      <div className=\"detail-container\">\n        <div className=\"breadcrumb\">\n          <Breadcrumb>\n            <Breadcrumb.Item><Link to=\"/\"><Icon type=\"home\"/> Home</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to=\"/news\"><Icon type=\"rise\" /> News</Link></Breadcrumb.Item>\n            <Breadcrumb.Item>{currentNews.title}</Breadcrumb.Item>\n          </Breadcrumb>\n        </div>\n        <div className=\"title\"><h1>{currentNews.title}</h1></div>\n        <div className=\"article-info\">\n          <Avatar\n            size={64}\n            style={{fontSize: '30px', color: '#13c2c2', backgroundColor: '#e6fffb'}}>\n            {currentNews.source[0]}\n          </Avatar>\n          <div className=\"article-subtitle\">\n            <div className=\"source\">{currentNews.source}</div>\n            <div className=\"post-time\">Post Time: {currentNews.time}</div>\n          </div>\n          <div className=\"article-follow\">\n            <Button shape=\"round\" onClick={this.handleFollow} disabled={UserStore.user.isAnonymous}>\n              <Icon type=\"star\" theme={this.isFollow() ? \"filled\" : \"\"}/>\n              {this.isFollow() ? \"Unfollow\" : \"Follow\"}\n            </Button>\n          </div>\n        </div>\n\n\n        <div className=\"article-img\">\n          <Image type={\"detail\"} address={currentNews.img} source={currentNews.source}/>\n        </div>\n        <div className=\"tags\">Category: <Tag color=\"cyan\">{currentNews.category}</Tag></div>\n        <div className=\"description\">Description: {currentNews.summary}</div>\n\n        <Divider/>\n        <div className=\"content\">{this.renderBody(currentNews.body)}</div>\n        <Divider/>\n      </div>\n\n    )\n  }\n}\n\ndecorate(NewsDetail, {\n  NewsDetail: observer,\n});\n\nexport default NewsDetail","import React, { Component } from 'react';\nimport {Tag} from 'antd';\nimport '../styles/NewsItem.scss'\nimport { Link } from 'react-router-dom'\nimport Image from './Image'\n\n\n\nclass NewsItem extends Component {\n\n  render() {\n      let tags;\n      if (this.props.item.hashtags) {\n        tags = this.props.item.hashtags.map((item, index) =>\n          <Tag color=\"cyan\" key={index}>{item}</Tag>\n        )\n      }\n      return (\n          <div className=\"round-container\">\n            <div className=\"content\">\n              <Link to={{pathname: `/news/${this.props.item.newsId}`}}>\n                <div className=\"title\">{this.props.item.title}</div>\n              </Link>\n              <div className=\"post-time\">Posted at: {this.props.item.time}</div>\n              <div className=\"description\">{this.props.item.summary}</div>\n              <div className=\"tags\">Hashtags: {tags}</div>\n            </div>\n            <div className=\"image\">\n              <Link to={{pathname: `/news/${this.props.item.newsId}`}}>\n                <Image type={\"list\"} address={this.props.item.img} source={this.props.item.source}/>\n              </Link>\n            </div>\n          </div>\n        )\n  }\n}\n\nexport default NewsItem;","import React, { Component } from 'react';\nimport '../styles/NewsList.scss';\nimport {Button, Divider, Icon, Empty, Skeleton, message} from 'antd';\nimport axios from \"axios\";\nimport NewsItem from './NewsItem'\nimport {decorate} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport UserStore from \"../../Appshell/stores/UserStore\";\n\n\nclass NewsList extends Component {\n  constructor(){\n    super();\n    this.state = {\n      news: [],\n      display: [],\n      count: 1,\n      following: false,\n      category: \"HEADLINE\",\n      loading: false,\n      hideFollow: false\n    }\n  }\n\n  componentDidMount() {\n    this.isFollow(this.props);\n    this.parseSearch(this.props);\n  }\n\n  parseSearch = (props) => {\n    this.setState({loading: true});\n    if (!props.location.search) {\n      axios.get(\"http://localhost:3000/api/offline/\").then(\n        res => {\n          this.setState({\n            news: res.data || [],\n            display: res.data.slice(0, 10),\n            loading: false\n          })\n        }\n      ).catch(err => {\n        message.error(\"Network error\");\n        this.setState({loading: false});\n      });\n    }\n    else {\n      const search = props.location.search;\n      const params = new URLSearchParams(search);\n      if (params.get('category')) {\n        axios.get(`http://localhost:3000/api/offline/category/${params.get('category')}`).then(\n          res => {\n            this.setState({\n              news: res.data || [],\n              display: res.data.slice(0, 10),\n              category: params.get('category'),\n              loading: false\n            })\n          }\n        ).catch(err => {\n          message.error(\"Network error\");\n          this.setState({loading: false});\n        });\n      }\n\n      else if (params.get('news')) {\n        axios.get(`http://localhost:3000/api/offline/search/${params.get('news')}`).then(\n            res => {\n              console.log(res.data);\n              this.setState({\n                news: res.data || [],\n                display: res.data || [],\n                category: \"SEARCH RESULT\",\n                loading: false,\n                hideFollow: true,\n              })\n            }\n        ).catch(err => {\n          message.error(\"Network error\");\n          this.setState({loading: false});\n        });\n      }\n\n      else if (params.get('source')) {\n        axios.get(`http://localhost:3000/api/offline/source/${params.get('source')}`).then(\n            res => {\n              this.setState({\n                news: res.data || [],\n                display: res.data || [],\n                category: params.get('source'),\n                loading: false\n              })\n            }\n        ).catch(err => {\n          message.error(\"Network error\");\n          this.setState({loading: false});\n        });\n      }\n    }\n  };\n\n  getType = (props) => {\n    if (!props.location) {\n      return \"other\";\n    }\n    const search = props.location.search;\n    const params = new URLSearchParams(search);\n    if (params.get('news')) return \"news\";\n    if (params.get('category')) return \"category\";\n    if (params.get('source')) return \"source\";\n    return \"other\";\n  };\n\n\n  handleFollow = () => {\n    axios.put(`http://localhost:3000/api/user/${UserStore.user.uid}`,\n        {name: this.state.category, type: this.getType(this.props)}).then(res => {\n      this.setState({following: !this.state.following});\n    }).catch(err =>\n        message.error(\"Network error\")\n    );\n  };\n\n  handleMore = () => {\n    const currCount = this.state.count + 1;\n    const currNews = this.state.news.slice(0, 10*currCount);\n    this.setState({\n      count: currCount,\n      display: currNews\n    })\n  };\n\n  isFollow = () => {\n    if (!UserStore.user.channels) return false;\n    let key = 'headline';\n    if (this.props.location) {\n      const search = this.props.location.search;\n      const params = new URLSearchParams(search);\n      key = params.get('news') || params.get('category') || params.get('source') || 'headline';\n    }\n\n    return (key in UserStore.user.channels) || this.state.following;\n  };\n\n  render() {\n\n    let displayNews = [];\n    if (this.state.display.length !== 0) {\n      // change key to item.id once added\n      displayNews = this.state.display.map((item, index) =>\n        <div key={index}>\n          <NewsItem item={item}/>\n          <br/>\n        </div>\n      );\n    }\n    return (\n      <div className=\"container\">\n        <br/>\n        <div className=\"list-headline\">\n            <h1 className=\"list-title\">{this.state.category.toUpperCase()}</h1>\n            {this.state.hideFollow\n              ? <div></div>\n              : <Button shape=\"round\" onClick={this.handleFollow} disabled={UserStore.user.isAnonymous}>\n                <Icon type=\"star\" theme={this.isFollow() ? \"filled\" : \"\"}/>\n                {this.isFollow() ? \"Unfollow\" : \"Follow\"}\n                </Button>\n            }\n        </div>\n        <div className=\"list-container\">\n          {(this.state.loading || UserStore.state.loading) ?\n              <div>\n                <Skeleton/>\n                <Skeleton/>\n                <Skeleton/>\n              </div>\n              : (displayNews.length === 0 ? <Empty description=\" \"/> : displayNews)}\n        </div>\n        <Divider>\n          {this.state.news.length === this.state.display.length ?\n              \"No more content\" :\n            <div className=\"read-more\">\n              <Button onClick={this.handleMore} style={{border: \"none\"}}>\n                Read More\n                <Icon type=\"down\"/>\n              </Button>\n            </div>\n          }\n        </Divider>\n      </div>\n\n    );\n  }\n}\n\ndecorate(NewsList, {\n  NewsList: observer,\n});\n\nexport default NewsList","import React, { Component } from 'react';\nimport {Avatar, Card, Button, message} from \"antd\";\nimport \"../styles/FollowedItem.scss\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {decorate} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport UserStore from \"../../Appshell/stores/UserStore\";\n\nclass FollowedItem extends Component {\n\n  handleUnfollow = () => {\n    UserStore.state.loading = true;\n    axios.put(`http://localhost:3000/api/user/${UserStore.user.uid}`, {name:this.props.name, type: this.props.type}).then( res => {\n          message.success(`Delete ${this.props.name} successfully!`);\n          delete (UserStore.user.channels[this.props.name]);\n          UserStore.state.loading = false;\n        }\n    )\n  };\n\n  render() {\n      return (\n        <Card className=\"item-card\">\n          <div className=\"item-container\">\n            <Link to={this.props.type==='other'? \"/news/\" : `/news/?${this.props.type}=${this.props.name}`}>\n              <Avatar size={50} style={{ color: '#f56a00', backgroundColor: '#fde3cf' }}>\n                {this.props.name[0].toUpperCase()}\n              </Avatar>\n            </Link>\n            <div className=\"item-description\">\n              <Link to={this.props.type==='other'? \"/news/\" : `/news/?${this.props.type}=${this.props.name}`}>\n                {this.props.name.toUpperCase()}\n              </Link>\n            </div>\n            <div className=\"item-operation\">\n              <Button shape=\"circle\" icon=\"delete\" type=\"danger\" disabled={UserStore.user.loading} onClick={this.handleUnfollow}/>\n            </div>\n          </div>\n        </Card>\n      );\n    }\n}\n\ndecorate(FollowedItem, {\n  FollowedItem: observer,\n});\n\nexport default FollowedItem;","import React, { Component } from 'react';\nimport {Avatar, Card, Divider, Empty, Icon, Skeleton, Spin} from \"antd\";\nimport \"../styles/ProfileContainer.scss\";\nimport '../../Home/styles/NewsList.scss';\nimport {decorate} from \"mobx\";\nimport {observer} from \"mobx-react\";\nimport UserStore from \"../../Appshell/stores/UserStore\";\nimport FollowedItem from \"./FollowedItem.jsx\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"axios\";\nimport moment from 'moment';\n\nconst { Meta } = Card;\n\nclass ProfileContainer extends Component {\n\n    //todo: replace them to the real news list\n  state = {\n    news: [],\n    channels: {},\n    loading: true,\n  };\n\n  componentDidMount() {\n    const that = this;\n    const request = window.indexedDB.open(\"news\", 1);\n    request.onupgradeneeded = function (event) {\n      const db = event.target.result;\n      if (!db.objectStoreNames.contains('recent')) {\n        db.createObjectStore('recent', { keyPath: 'id' });\n      }\n    };\n    request.onsuccess = function(event) {\n      const db = event.target.result;\n      db.transaction(['recent']).objectStore('recent').openCursor().onsuccess = function (event) {\n        const cursor = event.target.result;\n        const news = that.state.news;\n        if (cursor) {\n          news.push(cursor.value);\n          cursor.continue();\n        } else {\n          that.setState({news: news});\n        }\n      }\n\n    }\n  }\n\n  renderCard = () => {\n    if (UserStore.state.loading) {\n      return <Skeleton/>\n    }\n    if (this.state.news.length === 0) {\n      return <Empty/>\n    }\n    const readNews = this.state.news;\n    return <div className=\"news-card-list\">\n      {readNews.length > 0 ? readNews.map((news, index) =>\n          <Link key={index} to={{pathname: `/news/${news.id}`, state: {news: news.id}}}>\n            <Card\n                key={index}\n                hoverable\n                bordered={false}\n                style={{width: 290, margin: \"5px\"}}\n                cover={<img src={news.img} alt={\"N/A\"}/>}\n            >\n\n              <Meta\n                  title={news.title}\n              />\n              <div>\n                <Icon type=\"clock-circle\"/>{moment(news.time).fromNow()}\n              </div>\n            </Card>\n          </Link>)\n          : <div style={{margin: \"0 auto\"}}>\n            <Empty/>\n          </div>\n      }\n\n    </div>;\n  };\n\n  render() {\n      if (UserStore.state.loading) {\n          return (\n              <div className=\"profile-container\">\n                  <div className=\"profile-avatar\">\n                     <Spin/>\n                  </div>\n              </div>\n          );\n      }\n\n      if (!UserStore.user.email) {\n          return (\n              <div className=\"profile-container\">\n                  <div className=\"profile-avatar\">\n                      <h1>You have to Sign in</h1>\n                  </div>\n              </div>\n          );\n      }\n\n      return(\n          <div className=\"profile-container\">\n              <div className=\"profile-avatar\">\n                  <Avatar size={100} icon=\"user\" src={UserStore.user.photoURL ? UserStore.user.photoURL : \"\"}/>\n                  <h1>Welcome, {UserStore.user.displayName || UserStore.user.email}</h1>\n                  <br/>\n              </div>\n              <section className=\"profile-section\">\n                  <h1>My Subscription</h1>\n                <div className=\"subcriptions\">\n                  {UserStore.user.channels ? Object.keys(UserStore.user.channels).map((chan, index) =>\n                      <FollowedItem name={chan} type={UserStore.user.channels[chan].type} key={index}/>) :\n                      <div style={{margin: \"0 auto\"}}>\n                        <Empty/>\n                      </div>\n                  }\n                </div>\n              </section>\n              <Divider/>\n              <section className=\"profile-section\">\n                  <h1>Browsed News</h1>\n                  {this.renderCard()}\n              </section>\n              <Divider/>\n          </div>\n      );\n    }\n}\n\ndecorate(ProfileContainer, {\n    ProfileContainer: observer,\n});\nexport default ProfileContainer;","import React, { Component } from 'react';\nimport {Tag, Icon, Button} from 'antd';\nimport Image from '../../News/components/Image';\nimport \"../../News/styles/NewsItem.scss\";\n\n\n\nclass MemberItem extends Component {\n  render() {\n    let tags;\n    if (this.props.item.hashtags) {\n      tags = this.props.item.hashtags.map(item =>\n          <Tag color=\"cyan\">{item}</Tag>\n      )\n    }\n    return (\n        <div className=\"round-container\">\n          <div className=\"content\" style={{display:\"flex\"}}>\n            <div className=\"image\" style={{marginRight: \"20px\"}}>\n              <a href={this.props.item.url}>\n                <Image address={this.props.item.img} source={this.props.item.source}/>\n              </a>\n            </div>\n            <div>\n              <a href={this.props.item.url}>\n                <div className=\"title\">{this.props.item.name}</div>\n              </a>\n              <div className=\"post-time\">Position: {this.props.item.position}</div>\n              <div className=\"description\">{this.props.item.description}</div>\n              <div className=\"tags\" style={{fontSize: \"large\"}}>Contact me:\n                <Button style={{margin: \"0 10px\"}} icon=\"github\" href={this.props.item.github}>Github</Button>\n                <Button icon=\"linkedin\" href={this.props.item.linkedin}>Linkedin</Button>\n              </div>\n            </div>\n          </div>\n\n        </div>\n    )\n  }\n}\nexport default MemberItem;","import React, { Component } from 'react';\nimport '../../News/styles/NewsList.scss';\nimport MemberItem from \"./MemberItem\";\nimport team from \"../team.json\";\n\n\nclass AboutContainer extends Component {\n  render() {\n    return(\n        <div className=\"container\">\n          <br/>\n          <div className=\"list-headline\">\n            <h1 className=\"list-title\">ABOUT US</h1>\n          </div>\n          <div className=\"list-container\">\n            {team.map((member,index) =>\n              <div>\n                <MemberItem item={member} key={index}/>\n                <br/>\n              </div>\n            )}\n          </div>\n        </div>\n    );\n  }\n}\nexport default AboutContainer;","import React, { Component } from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Switch, Redirect} from \"react-router-dom\";\nimport {BackTop} from 'antd';\nimport HomeContainer from \"./Appshell/components/HomeContainer\";\nimport Header from './Appshell/components/Header.jsx';\nimport NewsDetail from './News/components/NewsDetail';\nimport NewsList from './News/components/NewsList';\nimport ProfileContainer from './User/components/ProfileContainer';\nimport AboutContainer from './About/components/AboutContainer';\nimport 'antd/dist/antd.css';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Header/>\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={HomeContainer}/>\n            <Route exact path=\"/news/:id\" component={NewsDetail}/>\n            <Route exact path=\"/news/\" component={NewsList}/>\n            <Route path=\"/profile/\" component={ProfileContainer}/>\n            <Redirect from=\"/rss-pwa/\" to=\"/\"/>\n            <Route path=\"/about/\" component={AboutContainer}/>\n          </Switch>\n        </Router>\n        <BackTop />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' || 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n    // Rick: use Workbox to manage static files of Webpack\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        console.log(installingWorker);\n        if (installingWorker == null) {\n          return;\n        }\n        console.log(installingWorker);\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport firebase from \"firebase\";\n\nconst config = {\n    apiKey: \"AIzaSyDcPG3URrK1keiRvgvvKBCqQkBatgpCnes\",\n    authDomain: \"rss-pwa-ba0d0.firebaseapp.com\",\n    databaseURL: \"https://rss-pwa-ba0d0.firebaseio.com\",\n    projectId: \"rss-pwa-ba0d0\",\n    storageBucket: \"rss-pwa-ba0d0.appspot.com\",\n    messagingSenderId: \"764595055848\"\n};\nfirebase.initializeApp(config);\nfirebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).catch(err => console.log(err));\n\nconst link = document.createElement('link');\nlink.rel = \"manifest\";\nif (process.env.NODE_ENV === 'development') {\n    link.href = \"manifest-dev.json\";\n} else {\n    link.href = \"manifest.json\";\n}\ndocument.head.appendChild(link);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}